!function(a){"use strict";if("undefined"==typeof vargal_params)return;if("undefined"==typeof wc_single_product_params)return;let r,e;function l(a){let r=a.currentTarget.querySelectorAll("button:not([disabled])"),e=Array.from(r).filter(function(a){return"none"!==a.style.display&&"none"!==window.getComputedStyle(a).display});if(1>=e.length)return;let l=e[0],t=e[e.length-1];"Tab"===a.key&&(a.shiftKey?document.activeElement===l&&(a.preventDefault(),t.focus()):document.activeElement===t&&(a.preventDefault(),l.focus()))}window.vargal_mobile_check=function(){let a=!1;var r;return r=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(a=!0),a},window.vargal_define_params=function(){vargal_params.override_template&&(r=vargal_mobile_check(),e=r?vargal_params?.thumbnail_mobile_pos:vargal_params?.thumbnail_pos,vargal_params.current_thumbnail_pos=e,vargal_params?.zoom?wc_single_product_params.zoom_enabled=!0:wc_single_product_params.zoom_enabled=!1,wc_single_product_params.flexslider_enabled=1,wc_single_product_params.photoswipe_enabled=!1,wc_single_product_params.flexslider.namespace="vargal-product-gallery-",wc_single_product_params.flexslider.controlsContainer=".vargal-product-gallery__wrapper",wc_single_product_params.flexslider.animation=vargal_params.transition,wc_single_product_params.flexslider.prevText='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg>',wc_single_product_params.flexslider.nextText='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>',wc_single_product_params.flexslider.animationLoop=!1,vargal_params?.auto_play_speed?(wc_single_product_params.flexslider.slideshow=!0,wc_single_product_params.flexslider.slideshowSpeed=1e3*parseFloat(vargal_params.auto_play_speed)):wc_single_product_params.flexslider.slideshow=!1,vargal_params?.navigation_pos?wc_single_product_params.flexslider.directionNav=!0:wc_single_product_params.flexslider.directionNav=!1,vargal_params.current_thumbnail_pos?(wc_single_product_params.flexslider.controlNav=!0,wc_single_product_params.flexslider.manualControls=".vargal-control-nav li a"):wc_single_product_params.flexslider.controlNav=!1,wc_single_product_params.flexslider.directionNav&&vargal_params.current_thumbnail_pos&&(wc_single_product_params.flexslider.touch=!1))},vargal_params.current_thumbnail_pos="",setTimeout(function(){void 0===r&&a(document).trigger("vargal_defined_params")},20),vargal_params.thumbnail_width=70,vargal_params.default_product_main={},vargal_params.default_product_gallery={},vargal_params.gallery_is_changing={},vargal_params?.lightbox&&(a(document).on("click",".vargal-product-gallery .woocommerce-product-gallery__image",function(r){if(r.preventDefault(),r.stopPropagation(),wc_single_product_params.zoom_enabled)return!1;a(document).trigger("vargal-gallery-open-photoswipe",[a(this).closest(".vargal-product-gallery"),a(this)])}),a(document).on("click",".vargal-product-gallery .woocommerce-product-gallery__trigger",function(){a(document).trigger("vargal-gallery-open-photoswipe",[a(this).closest(".vargal-product-gallery"),a(this)])})),a(document).on("vargal_defined_params",function(){vargal_define_params()}),a(document).on("wc-product-gallery-before-init",".vargal-product-gallery",function(e,l,t){void 0===r&&a(document).trigger("vargal_defined_params");let o,i=a(l),n=i.attr("class").split(" ");if(n.length)for(let a of n)if(a.includes("vargal-product-gallery-product-")){o=a.replace("vargal-product-gallery-product-","");break}if(o&&(i.data("vargal_product_id",o),void 0===vargal_params.default_product_gallery[o]&&(vargal_params.default_product_gallery[o]=i.find(".woocommerce-product-gallery__image").clone()),void 0===vargal_params.default_product_main[o]&&(vargal_params.default_product_main[o]=i.find(".wp-post-image").closest(".woocommerce-product-gallery__image").clone()),i.hasClass("vargal-product-gallery-wrap"))){let a=i.outerWidth();a&&["top","bottom"].includes(vargal_params.current_thumbnail_pos)&&(i.css({"max-width":a+"px"}),i.css({"min-width":a+"px"}),i.find(".vargal-product-gallery__wrapper").css({"max-width":a+"px"}),i.find(".vargal-product-gallery__wrapper").css({"min-width":a+"px"})),r&&i.addClass("vargal-product-gallery-wrap-mobile"),wc_single_product_params.zoom_enabled&&i.addClass("vargal-product-gallery-wrap-zoom"),vargal_params?.lightbox&&i.addClass("vargal-product-gallery-wrap-lightbox"),vargal_params?.transition&&i.addClass("vargal-product-gallery-wrap-transition-"+vargal_params.transition),vargal_params?.navigation_pos&&i.addClass("vargal-product-gallery-wrap-nav-wrap vargal-product-gallery-wrap-nav-"+vargal_params.navigation_pos),vargal_params.current_thumbnail_pos&&(i.addClass("vargal-product-gallery-wrap-"+vargal_params.current_thumbnail_pos),i.find(".woocommerce-product-gallery__image").length>1&&(i.append('<div class="vargal-control-nav-wrap"><ol class="vargal-control-nav"></ol></div>'),i.trigger("vargal-product-gallery-thumbnail-render",[i,vargal_params.default_product_gallery[o]]))),i.trigger("vargal-after-flexsilder",[i])}}),a(document).on("mouseenter",".vargal-control-nav li",function(){(vargal_params?.thumbnail_hover_change||a(this).closest(".vargal-thumbnails-hover-swap").length)&&a(this).find("a").trigger("click")}),a(document).on("vargal-gallery-open-photoswipe",function(r,e,l){let t=a(e),o=a(l);a(".pswp").length||(a("body").append(vargal_params.photoswipe_wrap),a(".pswp").addClass("vargal-pswp"));let i=t.find(".woocommerce-product-gallery__image").map(function(r,e){let l;return l=a(e).hasClass("vargal-video")?{alt:a(e).data("alt"),title:a(e).data("caption")||a(e).data("title"),html:'<div class="pswp__video pswp__vargal_video-wrap"><div class="pswp__vargal_video">'+a(e).find("a").html()+"</div></div>"}:{src:a(e).find("img").data("large_image"),w:a(e).find("img").data("large_image_width"),h:a(e).find("img").data("large_image_height"),alt:a(e).find("img").attr("alt"),title:a(e).find("img").data("caption")||a(e).find("img").attr("title")},a(document).triggerHandler("vargal_frontend_get_photoswipe_html",[l,a(e),t])||l}),n=a(".pswp")[0];o=0<o.closest(".woocommerce-product-gallery__trigger").length||0<o.closest(".vargal-lightbox__trigger").length?t.find(".vargal-product-gallery-active-slide"):o.closest(".woocommerce-product-gallery__image");let d=a.extend({index:o.index(),addCaptionHTMLFn:function(a,r){return a.title?(r.children[0].textContent=a.title,!0):(r.children[0].textContent="",!1)},timeToIdle:0},wc_single_product_params.photoswipe_options);var g=new PhotoSwipe(n,PhotoSwipeUI_Default,i,d);g.listen("afterInit",function(){a(document).trigger("vargal-trap-focus-photoswipe",[!0])}),g.listen("close",function(){a(document).trigger("vargal-trap-focus-photoswipe",[!1]),o.trigger("focus")}),g.init()}),a(document).on("vargal-trap-focus-photoswipe",function(a,r){let e=document.querySelector(".pswp");e&&(r?e.addEventListener("keydown",l):e.removeEventListener("keydown",l))}),a(document).on("clear_reset_announcement",".variations_form",function(r){let e=a(this).closest(".variations_form").data("product_id")||a(this).closest(".variations_form").find('[name="product_id"]').val();e&&vargal_params.default_product_gallery[e]&&a(document).trigger("vargal-loading-start",[e])}),a(document).on("hide_variation",".variations_form",function(r){let e=a(this).data("product_id")||a(this).find('[name="product_id"]').val();e&&vargal_params.default_product_gallery[e]&&a(document).trigger("vargal-gallery-reset",[e])}),a(document).on("show_variation",".variations_form",function(r,e,l){let t=a(this).data("product_id")||a(this).find('[name="product_id"]').val(),o=[];t&&(e?.image&&e?.image_id&&(o=[e.image]),e?.vargal&&(o=o.concat(e.vargal)),a(document).trigger("vargal-gallery-changing",[t,o,e]))}),a(document).on("vargal-gallery-changing",function(r,e,l,t){if(!e)return;let o=a(".vargal-product-gallery-product-"+e);if(!o.length)return;let i=vargal_params.gallery_is_changing[e];if(!(i&&"default"!==i||o.hasClass("vargal-product-gallery-wrap")||1!==l.length))return void a(document).trigger("vargal-loading-end",[e]);if((!i||"default"===i)&&(!vargal_params?.thumbnail_main_img&&vargal_params?.thumbnail_default_enable||!vargal_params.current_thumbnail_pos)&&1===l.length)return void a(document).trigger("vargal-loading-end",[e]);if(i?.variation_id&&i.variation_id==t.variation_id)return void a(document).trigger("vargal-loading-end",[e]);if(vargal_params.gallery_is_changing[e]=t,a(document).trigger("vargal-loading-start",[e]),!l||!l.length)return void a(document).trigger("vargal-gallery-reset",[e]);if(vargal_params.default_product_gallery[e]||(vargal_params.default_product_gallery[e]=o.find(".woocommerce-product-gallery__image").clone()),!vargal_params.default_product_gallery[e])return void a(document).trigger("vargal-gallery-reset",[e]);void 0===vargal_params.default_product_main[e]&&(vargal_params.default_product_main[e]=o.find(".wp-post-image").closest(".woocommerce-product-gallery__image").clone());let n="",d=[];for(let r in l){let t=l[r],i=a('<div data-thumb="" data-thumb-alt="" data-thumb-srcset="" data-thumb-sizes="" class="woocommerce-product-gallery__image"></div>'),g=a('<div class="vargal-html"></div>');if(i.append('<a href="'+t.full_src+'"></a>'),i.attr({"data-thumb":t.gallery_thumbnail_src,"data-thumb-alt":t.alt,"data-thumb-srcset":t.gallery_thumbnail_srcset,"data-thumb-sizes":t.gallery_thumbnail_sizes}),t?.is_video)i.addClass("vargal-video"),i.attr({"data-alt":t.alt,"data-caption":t.caption,"data-title":t.title}),d.push(r),i.find("a").append('<video controls><source src="'+t.full_src+'" type="'+t.metadata.mime_type+'"></video>'),t?.poster&&i.find("video").attr({poster:t.poster});else{let a='<img  src="'+t.src+'">';vargal_params.default_product_gallery[e].find("img:not(.woocommerce-placeholder)").length&&(a=vargal_params.default_product_gallery[e].find("img:not(.woocommerce-placeholder)").eq(0).clone()),i.find("a").append(a),i.find("img").attr({"data-large_image_height":t.full_src_h,"data-large_image_width":t.full_src_w,"data-large_image":t.full_src,"data-src":t.full_src,alt:t.alt,"data-caption":t.caption,title:t.title,sizes:t.sizes,srcset:t.srcset,width:t.src_w,height:t.src_h,src:t.src}),["image/gif"].includes(t.mime_type)&&(i.find("img").removeAttr("srcset"),i.find("img").attr({src:t.full_src})),t.srcset||i.find("img").removeAttr("srcset")}let c=a(document).triggerHandler("vargal_frontend_get_attachment_html",[i,t,o]);g.html(c||i),n+=g.html()}let g=o.data("vargal_render_type");if(g&&a(document).triggerHandler("vargal-"+g+"-gallery-render",[e,l,t,d,n]))return void a(document).trigger("vargal-loading-end",[e]);let c=JSON.parse(JSON.stringify(wc_single_product_params));c?.flexslider_enabled&&(o.flexslider("destroy"),o.removeData("flexslider")),o.removeData("product_gallery");let s=o.clone(),p=o.outerWidth(),m=s.find(".vargal-product-gallery-active-slide");if(m.addClass("vargal-image-remove").removeClass("woocommerce-product-gallery__image"),["left","right"].includes(vargal_params.current_thumbnail_pos)&&(p=o.outerWidth()-(vargal_params.thumbnail_width+parseFloat(vargal_params.thumbnail_gap_with_main_img))),o.hasClass("vargal-product-gallery-wrap-not-refresh"))o.find(".vargal-product-gallery__wrapper").prepend(m),o.find(".vargal-woocommerce-product-gallery__wrapper").addClass("woocommerce-product-gallery__wrapper").html(n),o.find(".vargal-product-gallery__wrapper").append(o.find(".vargal-woocommerce-product-gallery__wrapper")),o.find(".vargal-product-gallery-viewport").remove(),o.find(".vargal-control-nav-wrap").remove(),o.find(".vargal-product-gallery__wrapper").css({"min-height":o.outerWidth()+"px"}),o.closest(".product-images").length&&o.css({width:"100%"});else{let r=a('<div class="vargal-product-gallery__wrapper"></div>');r.append(m),o.html(r),o.append(s.find(".vargal-loading")),o.find(".vargal-product-gallery__wrapper").append('<div class="vargal-woocommerce-product-gallery__wrapper woocommerce-product-gallery__wrapper">'+n+"</div>")}if("fade"!==vargal_params?.transition&&o.find(".vargal-product-gallery__wrapper").css({overflow:"hidden","max-height":o.find(".vargal-image-remove").height()+"px"}),p&&["top","bottom"].includes(vargal_params.current_thumbnail_pos)&&(o.css({"max-width":p+"px"}),o.css({"min-width":p+"px"}),o.find(".vargal-product-gallery__wrapper").css({"max-width":p+"px"}),o.find(".vargal-product-gallery__wrapper").css({"min-width":p+"px"})),o.removeClass("vargal-product-gallery-one"),o.find("img").removeClass("wp-post-image"),o.find(".vargal-woocommerce-product-gallery__wrapper img:not(.vargal-hidden)").eq(0).addClass("wp-post-image"),o.hasClass("vargal-product-gallery-wrap")){if(vargal_params?.thumbnail_main_img&&!o.find('.woocommerce-product-gallery__image[data-thumb="'+vargal_params.default_product_main[e].data("thumb")+'"]').length&&o.find(".vargal-woocommerce-product-gallery__wrapper").append(vargal_params.default_product_main[e]),vargal_params?.thumbnail_default_enable)for(let r of vargal_params.default_product_gallery[e])a(r).find(".wp-post-image").length||o.find(".vargal-woocommerce-product-gallery__wrapper").append(r);vargal_params.current_thumbnail_pos&&o.find(".woocommerce-product-gallery__image").length>1&&(o.find(".vargal-product-gallery__wrapper").after('<div class="vargal-control-nav-wrap"><ol class="vargal-control-nav"></ol></div>'),o.trigger("vargal-product-gallery-thumbnail-render",[o,o.find(".woocommerce-product-gallery__image")])),o.find(".woocommerce-product-gallery__image").css({"min-width":p+"px"}),["left","right"].includes(vargal_params.current_thumbnail_pos)&&o.find(".woocommerce-product-gallery__image").css({"max-width":p+"px"}),o.find("video").length&&(c.flexslider.video=!0),c.flexslider.before=function(r){r?.animatingTo&&o.find(".vargal-control-nav li").eq(r.animatingTo).find("video").length?o.find(".woocommerce-product-gallery__trigger").addClass("vargal-hidden"):o.find(".woocommerce-product-gallery__trigger").removeClass("vargal-hidden"),a(document).trigger("vargal-flexslider-before",[r])},c.flexslider.start=function(r){o.find(".vargal-product-gallery__wrapper").css({"max-height":"100%"}),o.find(".vargal-image-remove").remove(),a(document).trigger("vargal-loading-end",[e])},o.trigger("vargal-after-flexsilder",[o])}else if(c?.flexslider_enabled){if(d.length){o.append('<ol class="flex-control-nav flex-control-thumbs vargal-control-nav"></ol>'),o.trigger("vargal-product-gallery-thumbnail-render",[o,o.find(".woocommerce-product-gallery__image")]),c.flexslider.video=!0,c.flexslider.controlNav=!0,c.flexslider.manualControls=".flex-control-nav li a";let a=c.flexslider.namespace||"flex-",r=new MutationObserver(function(e){e.forEach(function(e){o.find("."+a+"viewport").length&&(o.find(".zoomImg").remove(),o.find(".vargal-product-gallery__wrapper").append(o.find("."+a+"viewport")),r.disconnect())})});r.observe(o.get(0),{childList:!0,subtree:!0})}c.flexslider.start=function(r){o.find(".vargal-product-gallery__wrapper").css({"max-height":"100%"}),o.find(".vargal-image-remove").remove(),a(document).trigger("vargal-loading-end",[e])},c.flexslider.before=function(r){r?.animatingTo&&l[r.animatingTo]?.is_video?o.find(".woocommerce-product-gallery__trigger").addClass("vargal-hidden"):o.find(".woocommerce-product-gallery__trigger").removeClass("vargal-hidden"),a(document).trigger("vargal-flexslider-before",[r])}}o.off().wc_product_gallery(c),1===o.find(".woocommerce-product-gallery__image").length&&(o.addClass("vargal-product-gallery-one"),o.find(".vargal-image-remove").remove(),a(document).trigger("vargal-loading-end",[e]))}),a(document).on("vargal-gallery-reset",function(r,e){let l=a(".vargal-product-gallery-product-"+e);if(!l.length)return;a(document).trigger("vargal-loading-start",[e]);let t=l.data("vargal_render_type");if(t&&a(document).triggerHandler("vargal-"+t+"-gallery-reset",[e]))a(document).trigger("vargal-loading-end",[e]);else{if(vargal_params.default_product_gallery[e]&&vargal_params.gallery_is_changing[e]&&"default"!==vargal_params.gallery_is_changing[e]){if(vargal_params.gallery_is_changing[e]="default",l.flexslider("destroy"),l.removeData("flexslider"),l.hasClass("vargal-product-gallery-wrap-not-refresh")){let a=l.clone().find(".vargal-product-gallery-active-slide");a.addClass("vargal-image-remove").removeClass("woocommerce-product-gallery__image"),l.find(".vargal-product-gallery__wrapper").prepend(a),l.find(".vargal-woocommerce-product-gallery__wrapper").html(vargal_params.default_product_gallery[e]),l.find(".vargal-product-gallery__wrapper").append(l.find(".vargal-woocommerce-product-gallery__wrapper")),l.find(".vargal-product-gallery-viewport").remove(),l.find(".vargal-control-nav-wrap").remove(),l.find(".vargal-product-gallery__wrapper").css({"min-height":l.outerWidth()+"px"}),l.find(".vargal-image-remove").hide(500).remove()}else l.html(l.find(".vargal-loading")),l.append('<div class="vargal-product-gallery__wrapper"><div class="vargal-woocommerce-product-gallery__wrapper woocommerce-product-gallery__wrapper"></div></div>'),l.find(".vargal-woocommerce-product-gallery__wrapper").append(vargal_params.default_product_gallery[e]);vargal_params.current_thumbnail_pos&&l.find(".woocommerce-product-gallery__image").length>1&&(l.append('<div class="vargal-control-nav-wrap"><ol class="vargal-control-nav"></ol></div>'),l.trigger("vargal-product-gallery-thumbnail-render",[l,l.find(".woocommerce-product-gallery__image")])),l.trigger("vargal-after-flexsilder",[l]),l.off().wc_product_gallery()}a(document).trigger("vargal-loading-end",[e])}}),a(document).on("vargal-loading-end",function(r,e){let l=a(".vargal-product-gallery-product-"+e);l.length&&l.removeClass("vargal-product-gallery-loading")}),a(document).on("vargal-loading-start",function(r,e){let l=a(".vargal-product-gallery-product-"+e);l.length&&(l.addClass("vargal-product-gallery-loading"),l.find(".vargal-loading").length||a(document).trigger("vargal-loading-render",[l,vargal_params.loading_icon_type]))}),a(document).on("vargal-after-flexsilder",function(r,e){let l=a(e),t=new MutationObserver(function(a){a.forEach(function(a){l.find(".woocommerce-product-gallery__image").length>1&&!l.find(".vargal-product-gallery__wrapper .vargal-product-gallery-viewport").length?l.find(".vargal-product-gallery-viewport").length&&(l.find(".zoomImg").remove(),l.find(".vargal-product-gallery__wrapper").append(l.find(".vargal-product-gallery-viewport"))):t.disconnect()})});"fade"!==vargal_params.transition&&t.observe(l.get(0),{childList:!0,subtree:!0}),vargal_params?.lightbox_icon&&(l.find(".vargal-product-gallery__wrapper").find(".woocommerce-product-gallery__trigger").length||(l.find(".woocommerce-product-gallery__trigger").remove(),l.find(".vargal-product-gallery__wrapper").append(`<a href="#" class="woocommerce-product-gallery__trigger" aria-haspopup="dialog" aria-label="${wc_single_product_params.i18n_product_gallery_trigger_text}"></a>`),l.find(".woocommerce-product-gallery__trigger").append('<span aria-hidden="true">üîç</span>'))),1===l.find(".woocommerce-product-gallery__image").length&&l.addClass("vargal-product-gallery-one")}),a(document).on("vargal-product-gallery-thumbnail-render",function(r,e,l){let t=a(e);if(!t.length||!l.length)return;let o="";for(let r=0;r<l.length;r++){let e=l.eq(r),i=a('<li><a href="#"></a></li>'),n=a('<div class="vargal-html"></div>');if(e.find("video").length){if(e.find("video").attr("poster")){let r=a("<img/>",{onload:"this.width = this.naturalWidth; this.height = this.naturalHeight",src:e.data("thumb"),sizes:e.data("thumb-sizes"),alt:e.data("thumb-alt")});i.find("a").append(r)}else i.find("a").append('<video preload="metadata" src="'+e.data("thumb")+'"></video>');i.find("a").addClass("vargal-thumb-video")}else{let r=a("<img/>",{onload:"this.width = this.naturalWidth; this.height = this.naturalHeight",src:e.data("thumb"),sizes:e.data("thumb-sizes"),alt:e.data("thumb-alt")});e.data("thumb-srcset")&&r.attr({srcset:e.data("thumb-srcset")}),i.find("a").append(r)}let d=a(document).triggerHandler("vargal_frontend_get_thumb_html",[i,e,t]);n.html(d||i),o+=n.html()}t.find(".vargal-control-nav").append(o);let i=vargal_params.thumbnail_width;if(["left","right"].includes(vargal_params.current_thumbnail_pos)&&(t.find(".vargal-control-nav-wrap").css({height:t.width()+"px",overflow:"hidden"}),t.find(".vargal-product-gallery__wrapper").css({width:"calc( 100% - "+(i+parseFloat(vargal_params.thumbnail_gap_with_main_img))+"px )"})),["left","right"].includes(vargal_params.current_thumbnail_pos)&&t.find(".woocommerce-product-gallery__image").css({"max-width":t.outerWidth()-(i+parseFloat(vargal_params.thumbnail_gap_with_main_img))+"px"}),["top"].includes(vargal_params.current_thumbnail_pos)&&t.find(".vargal-control-nav-wrap").css({"max-height":i+"px"}),t.find(".vargal-control-nav li, .vargal-control-nav li a").css({"min-width":i+"px","max-width":i+"px","max-height":i+"px",overflow:"hidden"}),vargal_params?.thumbnail_slide){let r=parseFloat(vargal_params.thumbnail_gap),e=t.outerWidth(),l=Math.floor((e-i)/(i+r))+1,o=l-1;if(t.find(".vargal-control-nav-wrap li").length>l){let e=(new Date).getTime(),n="vargal-control-nav-scroll-"+e;t.data("vargal_thumb",e),t.find(".vargal-control-nav-wrap").addClass("vargal-control-nav-slider");let d=a(document).triggerHandler("vargal_control_nav_slide_options",[i,r,l,o,n]);d||(d={namespace:"vargal-control-nav-",selector:".vargal-control-nav > li",animation:"slide",animationLoop:!0,startAt:0,itemWidth:i,itemMargin:r,controlNav:!1,prevText:wc_single_product_params.flexslider.prevText,nextText:wc_single_product_params.flexslider.nextText,maxItems:l,minItems:o,move:l,slideshow:!1,reverse:!1,touch:!0,before:function(e){let t=e.container.find(".vargal-product-gallery-active").closest("li").index(),o="prev"===e.direction?t-l:t+l;if((o<0||o>=e.count)&&(o="prev"===e.direction?e.count-1:0),e.container.find("li").eq(o).find("a").trigger("click"),["left","right"].includes(vargal_params.current_thumbnail_pos)){let t=Math.floor(l/2);e.count-o<t&&(o-=t),a("#"+n+"-css").html(`.${n}{transform: translate3d(0px,${-1*o*(i+r)}px, 0px) !important;`)}},init:function(r){["left","right"].includes(vargal_params.current_thumbnail_pos)&&(a("#"+n+"-css").length||a("head").append(`<style id="${n}-css"></style>`),r.container.addClass(n).css({width:i+"px",display:"flex","flex-direction":"column"}))}}),["left","right"].includes(vargal_params.current_thumbnail_pos)?(d.direction="vertical",t.find(".vargal-control-nav li").css({"margin-right":"0px",height:i+"px","max-height":i+"px","text-align":"center"}),t.find(".vargal-control-nav li img, .vargal-control-nav li video, .vargal-control-nav li iframe").css({"max-height":i+"px"})):t.find(".vargal-control-nav").css({gap:"0px"}),t.find(".vargal-control-nav-wrap").flexslider(d)}}a(document).trigger("vargal-product-gallery-thumbnail-rendered",[e,l])})}(jQuery);