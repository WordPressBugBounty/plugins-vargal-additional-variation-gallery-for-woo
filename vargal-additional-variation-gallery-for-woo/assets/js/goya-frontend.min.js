!function(e){"use strict";"undefined"!=typeof vargal_params&&"undefined"!=typeof wc_single_product_params&&(vargal_params.goya_default_product_gallery={},vargal_params.goya_default_product_gallery_thumb={},e(document).on("wc-product-gallery-before-init",".vargal-product-gallery",(function(l,r,a){let o=e(r);if(!o.length)return;if(!o.closest(".vargal-goya-product-gallery").length)return;let t,i=o.attr("class").split(" ");if(i.length)for(let e of i)if(e.includes("vargal-product-gallery-product-")){t=e.replace("vargal-product-gallery-product-","");break}t&&(o.closest(".thumbnails-hover-swap").length&&o.addClass("vargal-thumbnails-hover-swap"),o.addClass("vargal-goya-product-gallery"),o.data("vargal_render_type","goya"))})),e(document).on("vargal-goya-gallery-render",(function(l,r,a,o,t,i){let n=e(".vargal-goya-product-gallery.vargal-product-gallery-product-"+r);if(console.log("vargal-goya-gallery-render : "+r),!n.length)return!1;let g=JSON.parse(JSON.stringify(wc_single_product_params));if(g?.flexslider_enabled&&(n.flexslider("destroy"),n.removeData("flexslider")),n.html(n.find(".vargal-loading")),n.append('<div class="vargal-product-gallery__wrapper"><div class="woocommerce-product-gallery__wrapper">'+i+"</div></div>"),n.find("img").removeClass("wp-post-image"),n.find("img").eq(0).addClass("wp-post-image"),vargal_params.default_product_gallery[r])for(let l of vargal_params.default_product_gallery[r])e(l).find(".wp-post-image").length||n.find(".woocommerce-product-gallery__wrapper").append(l);return n.closest(".et-product-gallery-grid").length||n.closest(".et-product-gallery-column").length||(n.find(".woocommerce-product-gallery__image").length>1&&(n.append('<ol class="flex-control-nav flex-control-thumbs vargal-control-nav"></ol>'),n.trigger("vargal-product-gallery-thumbnail-render",[n,n.find(".woocommerce-product-gallery__image")]),g.flexslider.controlNav=!0,g.flexslider.manualControls=".flex-control-nav li a"),t.length&&(g.flexslider.video=!0)),n.trigger("vargal-after-flexsilder",[n]),n.off().wc_product_gallery(g),!0})),e(document).on("vargal-goya-gallery-reset",(function(l,r){let a=e(".vargal-goya-product-gallery.vargal-product-gallery-product-"+r);if(!a.length)return!1;if(vargal_params.default_product_gallery[r]&&vargal_params.gallery_is_changing[r]&&"default"!==vargal_params.gallery_is_changing[r]){console.log("vargal-goya-gallery-reset : "+r),vargal_params.gallery_is_changing[r]="default",a.html(a.find(".vargal-loading")),a.append('<div class="vargal-product-gallery__wrapper"><div class="woocommerce-product-gallery__wrapper"></div></div>'),a.find(".woocommerce-product-gallery__wrapper").append(vargal_params.default_product_gallery[r]);let e=JSON.parse(JSON.stringify(wc_single_product_params));a.trigger("vargal-after-flexsilder",[a]),a.find(".woocommerce-product-gallery__image").length>1&&(a.append('<ol class="flex-control-nav flex-control-thumbs vargal-control-nav"></ol>'),a.trigger("vargal-product-gallery-thumbnail-render",[a,a.find(".woocommerce-product-gallery__image")]),e.flexslider.controlNav=!0,e.flexslider.manualControls=".flex-control-nav li a"),e?.flexslider_enabled&&(a.flexslider("destroy"),a.removeData("flexslider")),a.off().wc_product_gallery(e)}return!0})),e(document).on("vargal-product-gallery-thumbnail-rendered",(function(l,r,a){let o=e(r);if(o.length&&a.length&&o.closest(".thumbnails-vertical").length&&o.find(".woocommerce-product-gallery__image").length>6){let e=o.find(".flex-control-nav"),l={infinite:!1,arrows:!0,speed:600,slidesToShow:6,slidesToScroll:6,vertical:!0,verticalSwiping:!0,prevArrow:'<a class="slick-prev">'+goya_theme_vars.icons.prev_arrow+"</a>",nextArrow:'<a class="slick-next">'+goya_theme_vars.icons.next_arrow+"</a>",responsive:[{breakpoint:1200,settings:{vertical:!0,slidesToShow:5,slidesToScroll:5,swipe:!0}},{breakpoint:992,settings:{vertical:!1,slidesToShow:5,slidesToScroll:5,swipe:!0}},{breakpoint:576,settings:{vertical:!1,slidesToShow:4,slidesToScroll:4,swipe:!0,verticalSwiping:!1}}]};e.not(".slick-initialized").slick(l),e.on("afterChange",(function(l,r,a){e.find(".slick-track .slick-current li img").trigger("click")}))}})),e(document).on("vargal-after-flexsilder",(function(l,r){let a=e(r),o=wc_single_product_params.flexslider.namespace||"flex-",t=new MutationObserver((function(e){e.forEach((function(e){a.find("."+o+"viewport").length&&(a.find(".vargal-product-gallery__wrapper").append(a.find("."+o+"viewport")),t.disconnect())}))}));t.observe(a.get(0),{childList:!0,subtree:!0}),a.closest(".zoom-enabled").length&&a.find(".woocommerce-product-gallery__image img").closest(".woocommerce-product-gallery__image").easyZoom(),a.find(".woocommerce-product-gallery__image video").closest(".woocommerce-product-gallery__image").css({"pointer-events":"none"})})))}(jQuery);